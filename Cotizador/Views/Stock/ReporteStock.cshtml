@{
    ViewBag.Title = "Descargar Reporte Stock";
    Model.Producto producto = ViewBag.producto;
}

<div class="page-header">
    <h3>@ViewBag.Title</h3>
</div>
<div class="container">
    <input type="hidden" id="pagina" value="@ViewBag.pagina" />

    <div class="row">
        <div class="col-sm-6 col-lg-4">
            <div class="form-group row">
                <!--Fecha Inicio Vigencia-->
                <label class="control-label col-xs-4" for="fechaStock">A la Fecha:</label>
                <div class="col-xs-8">
                    <input class="form-control" type="text" id="fechaStock" name="fechaStock" value="@DateTime.Now.ToString("dd/MM/yyyy")">
                </div>
            </div>
            <div class="form-group row right">
                <div class="col-xs-12">
                    <div class="onoffswitch" title="Considera en el stock los productos cuyo ingreso fue registrado posterior a la fecha del reporte que ya eran propiedad de MP.">
                        <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="chkAjusteMercaderiaTransito">
                        <label class="onoffswitch-label" for="chkAjusteMercaderiaTransito"></label>
                    </div>
                    <h5 id="lblchkAjusteMercaderiaTransito" for="chkAjusteMercaderiaTransito" style="width: 90%; font-size: 16px; margin-left: 45px; margin-top: -24px; font-weight:bold; cursor:pointer;" title="Considera en el stock productos cuyo ingreso fue registrado posterior a la fecha del reporte que ya eran propiedad de MP.">Agregar productos en tránsito.</h5>
                </div>
            </div>
        </div>
        <div class="col-sm-6 col-lg-4">
            <div class="form-group row">
                <!--Items-->
                <label class="control-label col-xs-4" for="idCiudad">
                    Sede:
                </label>
                <div class="col-xs-8">
                    @Html.Action("GetCiudades", "Ciudad",
                                    new
                                    {
                                        ciudadSelectId = "idCiudad"
                                    })
                </div>
            </div>
        </div>

        <div class="col-sm-6 col-lg-4">
            <div class="form-group row">
                <label class="control-label col-xs-4" for="tipoUnidad">Unidad:</label>
                <div class="col-xs-8">
                    <select class="form-control" id="tipoUnidad" name="tipoUnidad">
                        <option selected value="1">MP</option>
                        <option value="2">Alternativa</option>
                        <option value="3">Proveedor</option>
                        <option value="99">Conteo</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <!--codigo-->
        <div class="col-sm-6 col-lg-4">
            <div class="form-group row">
                @Html.LabelFor(c => producto.sku, htmlAttributes: new { @class = "control-label col-xs-4" })
                <div class="col-xs-8">
                    @Html.TextBoxFor(c => producto.sku, htmlAttributes: new { @class = "form-control" })
                    <span style="margin-right: 20px; font-size:12px; color: darkred; font-weight: normal " class="has-error">*Si ingresa el código los otros criterios no serán considerados en la búsqueda. <br />Puede usar '%' como comodín al final. Ej: "HH%"</span>
                </div>
            </div>
        </div>

        <!--codigo proveedor-->
        <div class="col-sm-6 col-lg-4">
            <div class="form-group row">
                @Html.LabelFor(c => producto.skuProveedor, htmlAttributes: new { @class = "control-label col-xs-4" })
                <div class="col-xs-8">
                    @Html.TextBoxFor(c => producto.skuProveedor, htmlAttributes: new { @class = "form-control" })
                </div>
            </div>

        </div>


        <div class="col-sm-6 col-lg-4">
            <div class="form-group row">
                @Html.LabelFor(c => producto.familia, htmlAttributes: new { @class = "control-label col-xs-4" })
                <div class="col-xs-8">
                    @Html.Action("list", "Familia")
                </div>
            </div>

            <div class="form-group row">
                @Html.LabelFor(c => producto.proveedor, htmlAttributes: new { @class = "control-label col-xs-4" })
                <div class="col-xs-8">
                    @Html.Action("list", "Proveedor")
                </div>
            </div>
        </div>
    </div>

    <!--Familia, proveedor, producto -->
    <div class="row">
        <!--Familia-->
        <!--Descripcion producto-->
        <div class="col-sm-6 col-lg-8">

            <div class="form-group">
                @Html.LabelFor(c => producto.descripcion, htmlAttributes: new { @class = "control-label col-xs-2" })
                <div class="col-xs-10">
                    @Html.TextBoxFor(c => producto.descripcion, htmlAttributes: new { @class = "form-control" })
                </div>
            </div>

        </div>

        <div class="col-sm-6 col-lg-4">

            <div class="form-group">
                @Html.LabelFor(c => producto.tipoVentaRestringidaBusqueda, htmlAttributes: new { @class = "control-label col-xs-4" })
                <div class="col-xs-8">
                    <select class="form-control" id="tipoVentaRestringidaBusqueda" name="tipoVentaRestringidaBusqueda">
                        <option @(producto.tipoVentaRestringidaBusqueda == -1 ? "selected" : "") value="-1">Seleccione</option>
                        <option @(producto.tipoVentaRestringidaBusqueda == 1 ? "selected" : "") value="1">Descontinuado</option>
                        <option @(producto.tipoVentaRestringidaBusqueda == 2 ? "selected" : "") value="2">Inestabilidad de precios</option>
                        <option @(producto.tipoVentaRestringidaBusqueda == 3 ? "selected" : "") value="3">Stock limitado</option>
                        <option @(producto.tipoVentaRestringidaBusqueda == 4 ? "selected" : "") value="4">Venta Controlada</option>
                        <option @(producto.tipoVentaRestringidaBusqueda == 5 ? "selected" : "") value="5">Producto NO Stockeable</option>
                        <option @(producto.tipoVentaRestringidaBusqueda == 9999 ? "selected" : "") value="9999">Todos los restringidos</option>
                    </select>
                </div>
            </div>

        </div>
    </div>


    <div class="row">
        <div class="col-sm-6 col-lg-4">

        </div>
    </div>

    <div class="row pull-right" style="margin-bottom:10px; margin-right:0px">
        @*<button id="btnLimpiarBusqueda" type="button" class="btn btn-primary  bouton-image botonClean">Limpiar</button>*@
        <button id="btnReporteStockExcel" type="button" class="btn btn-primary  bouton-image botonExcel" actionLink="@Url.Action("ExportReporteStock", "Stock")">Descargar Reporte</button>
    </div>

</div>



@section Scripts {
    @Scripts.RenderFormat("<script type=\"text/javascript\" src=\"{0}?nocache=" + TempData["ScriptVersion"] + "\"></script>", "~/bundles/stock")
}
